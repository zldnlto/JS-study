# 함수 (1)
## 함수란
프로그램이 언어의 함수 : 일련의 과정을 문(statement)으로 구현하고 코드 블록으로 감싸서 하나의 __실행 단위__ 로 정의한 것

- 함수 내부로 입력을 전달받는 변수 : 매개변수(parameter)
- 입력 : 인수(argument)
- 출력 : 반환값 (return value)

함수 호출 : 
함수의 정의만으로 함수가 실행되는 것이 아니며 
인수를 매개변수로 전달해 함수의 실행을 명시적으로 지시해야 한다.

함수를 사용하는 이유 : 코드의 재사용을 통한 유지보수 편의 증가

__함수는 객체 타입의 값이며 고유한 프로퍼티를 갖는다.__  

## 함수 정의 방식
변수는 선언, 함수는 정의 ? 함수 선언이 평가되면 식별자가 암묵적으로 생성되고 함수 객체 할당 

표현식(expression) : 값으로 평가될 수 있는 문  
문(statement): 프로그램을 구성하는 최소 실행 단위 (기본 단위). 

1. 함수 선언문 
```js
function add(x,y) {
    return x + y;
}; //undefined 
```  
표현식이 아닌 문이다. 완료 값인 undefined 출력

기명 함수 리터럴은 중의적인 코드이므로 문맥에 따라 해석된다. 
함수 선언문이 변수에 할당되는 것처럼 보이지만 

2. 함수 표현식  
:변수에 할당되는 값이 함수 리터럴 
``` js
const add = function(x,y) {
    return x + y;
};
```
js의 함수는 일급 객체다 (일급 객체: 값처럼 자유롭게 사용할 수 있는 객체)  
=> 함수 리터럴로 생성한 함수를 객체 변수에 할당할 수 있다.

``` js
//기명 함수 표현식
let add = function foo(x, y){
    return x + y;
};
console.log(add(2,5)); //7
console.log(foo(2,5)); // Reference Error
```

=> 함수 이름은 함수 몸체 내부에서만 유효한 식별자이므로 함수 이름으로 함수를 호출할 수 없다. 

함수 선언문과 표현식 

3. Function 생성자 함수
``` js
const add = new Function('x','y','return x + y');
```
4. 화살표 함수(ES6) 
``` js
const add (x, y) => x + y; 
```


## 함수 생성 시점과 호이스팅
### 1. 함수 선언문의 호이스팅 
선언문이므로 런타임 이전에 함수 객체가 먼저 생성되며, 함수 이름과 동일한 식별자 생성에 undefined 초기화까지 완료된 상태 => 함수 선언문 이전에 함수 참조, 호출 가능 

```js
//함수 참조
console.dir(add); // f add(x, y)
//함수 호출
console.log(add(2, 5)); //7
//함수 선언문
function add(x, y) {
    return x + y; 
} 
```

선언 이전에 참조, 호출이 가능한 구조이므로 권장되지 않음 (표현식을 씁시다)

### 2. 함수 표현식의 호이스팅

함수 표현식으로 함수를 정의하면 함수 호이스팅이 발생하는 것이 아니라 __변수 호이스팅__ 이 발생함  
=> 변수 선언은 런타임 이전에 undefined 로 초기화되지만 변수 할당문의 값은 할당문이 실행되는 런타임에 평가되므로 함수 리터럴은 런타임에 함수 객체가 된다.  
ex) var를 이용해서 선언된 함수 표현식의  호이스팅 
```js
console.dir(sub); //undefined
console.log(sub(2, 5)); //TypeError: sub is not a function

//함수 표현식
var sub = function (x, y) {
    return x - y;
};
```
##### TypeError : undefined를 호출한 것이므로 발생한 에러 

* * * 

## conclusion  
1/ 함수는 값을 갖는 일급 객체이다.  
2/ 함수 선언문은 함수 이름을 생략할 수 없다. 생성된 이름에는 자바스크립트 엔진이 암묵적으로 식별자로 생성해 함수 객체를 할당한다.  
3/ 함수 표현식은 함수 리터럴을 변수에 할당하는 형식이다. 이 때의 함수 리터럴은 익명함수가 일반적이다. 변수의 호이스팅처럼 동작한다. 
4/ 함수도 호이스팅이 발생한다. 참조, 호출 뒤에 함수가 선언되는 코드 흐름은 가독성의 문제가 있으므로 가급적 함수 선언문이 아닌 __`let`, `const` 이용한 함수 표현식__ 을 이용하도록 한다. 
